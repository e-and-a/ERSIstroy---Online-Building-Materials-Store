# ERSI Stroy — Интернет-магазин стройматериалов

Современный веб-сервис для просмотра ассортимента, оформления заявок и управления заказами через административную панель.
Проект создан в рамках курсовой работы.

---

## Основной функционал

### Пользовательская часть (витрина)
- Просмотр категорий и товаров.
- Просмотр карточки товара.
- Корзина (localStorage, управление количеством).
- Оформление заявки без онлайн-оплаты.
- Страница благодарности.
- Юридические страницы (Terms, Privacy).

### Административная панель
- Авторизация менеджера через защищённую cookie-сессию.
- Просмотр всех заказов.
- Просмотр деталей конкретного заказа.
- Изменение статуса и менеджерских заметок.
- Управление категориями и товарами (добавление, редактирование, удаление).

---

## Технологический стек

### Frontend & Backend (Next.js Fullstack)
1) Next.js 14 (App Router)
2) React Server Components
3) TypeScript
4) Tailwind CSS
5) BEM-классы в разметке
6) shadcn/ui (UI-компоненты)
7) Zod — валидация форм
8) localStorage — корзина

### Database & ORM
1) PostgreSQL (Neon.tech)
2) Prisma ORM

### Авторизация
1) Сессии через httpOnly cookie
2) Проверка доступа через middleware.ts

---

## Структура проекта

### Основные директории:

- app/                 — страницы и маршруты
    -   admin/             — административная панель
    -   api/               — серверные API-маршруты
    -   catalog/           — каталог и категории
    -   product/           — карточка товара
    -   cart/              — корзина
    -   order/             — оформление заказа

* components/          — UI-компоненты, формы,таблицы карточки
* lib/                 — бизнес-логика, Prisma, валидации
* prisma/              — схема и миграции БД
* styles/              — Tailwind & глобальные стили

---

## Требования к окружению

Перед запуском необходимо создать файл .env:

```
DATABASE_URL="postgres://..."
ADMIN_LOGIN="admin"
ADMIN_PASSWORD="strongpassword"
```

---

## Локальный запуск
1) Установка зависимостей:

```
npm install
```

2) Применение миграций Prisma:

```
npx prisma migrate dev
```

3) Запуск разработки:

```
npm run dev
```

Сайт откроется по адресу:

http://localhost:3000

---

## Основные маршруты

### Пользовательская часть:
	•	/ — главная страница
	•	/catalog — категории
	•	/catalog/[slug] — товары категории
	•	/product/[slug] — карточка товара
	•	/cart — корзина
	•	/order — оформление заявки
	•	/thanks — успешная отправка

### Админка:
	•	/admin/login — вход
	•	/admin/orders — список заказов
	•	/admin/orders/[id] — детали заказа
	•	/admin/categories — категории
	•	/admin/products — товары

--- 

## Тестирование

### Проект протестирован вручную:
* отправка формы заказа;
* корректное создание Order и OrderItem в БД;
* переход к /thanks;
* доступ в админку только после авторизации;
* смена статуса заказов;
* добавление/редактирование/удаление категорий и товаров;
* корректная работа корзины (localStorage).

--- 

## Лицензия

Курсовой учебный проект.\
Свободно используется для демонстрации и образовательных целей.

--- 